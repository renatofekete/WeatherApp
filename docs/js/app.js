"use strict";window.onload=function(){function n(n){fetch("https://api.weatherbit.io/v2.0/current?".concat(n,"&key=").concat(i)).then(function(t){return t.json()}).then(function(t){r.current=t,fetch("https://api.weatherbit.io/v2.0/forecast/daily?".concat(n,"&key=").concat(i,"&days=5")).then(function(t){return t.json()}).then(function(t){r.forecast=t,function(t){var n=new Date(1e3*t.current.data[0].ts);o.innerHTML='\n      <div class="top">\n      <h1 class="top--title">'.concat(t.current.data[0].city_name,'</h1>\n      <p class="top--date">').concat(n.toLocaleString("hr-HR",{year:"numeric",month:"long",day:"numeric",hour:"numeric"}),':00h</p>\n      </div>\n      <div class="current">\n      <h2 class="current--temperature"> ').concat(Math.ceil(t.current.data[0].temp),'° </h2>\n      <div class="current--display">\n      <div class="img"><img src=\'assets/icons/').concat(t.current.data[0].weather.icon,".png' alt=\"").concat(t.current.data[0].weather.description,'" srcset=""></div>\n      <p>').concat(t.current.data[0].weather.description,'</p>\n      </div>\n      </div>\n      <div class="days"></div>\n      ');var c=document.querySelector(".days");t.forecast.data.map(function(t){var n=new Date(1e3*t.ts);c.innerHTML+='\n      <div class="card">\n        <h3 class="card--date">'.concat(n.toLocaleString("hr-HR",{month:"numeric",day:"numeric"}),'</h3>\n        <div class="img"><img src=\'assets/icons/').concat(t.weather.icon,'.png\'></div>\n        <h4 class="card--temperature">').concat(Math.ceil(t.min_temp),"° / ").concat(Math.ceil(t.max_temp),"°</h4>\n      </div>")})}(r)}).catch(function(){console.log("test")})}).catch(function(){o.innerHTML='\n        <div class="top">\n        <h1 class="top--title">Please enter valid term</h1>\n        </div>\n        '})}var c,e,a,r={},i="d4bf21aa78d1417f919046208837be54",o=document.getElementById("app"),s=document.querySelector(".search--bar"),d=document.querySelector(".search");navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){c=t.coords.latitude,e=t.coords.longitude,a="lat=".concat(c,"&lon=").concat(e),n(a)},function(){o.innerHTML='\n      <div class="title">\n      <h1>Use searchbar to find cities</h1>\n      </div>\n      '}),d.addEventListener("submit",function(t){t.preventDefault(),function(){var t=s.value.split(" ").join("-").toLowerCase();a="city=".concat(t),n(a)}(),d.reset()})};